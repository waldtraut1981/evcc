template: solaredge-inverter
products:
- brand: Solaredge
  description:
    de: Wechselrichter
    en: Inverter
guidedsetup:
  enable: true
params:
- name: usage
  choice: [ "grid", "pv" ]
- name: modbus
  choice: [ "tcpip" ]
  id: 1
  port: 1502
- name: timeout
  default: 3s
render: |
  type: custom
  power:
    source: modbus
    model: sunspec
    {{ include "modbus" . | indent 2 }}
    timeout: {{ .timeout }}
  {{- if eq .usage "grid" }}
    subdevice: 1
    value: 203:W # sunspec 3-phase meter power reading
    scale: -1
  {{- end -}}
